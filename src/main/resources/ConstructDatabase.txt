CREATE TABLE Person (
    id INT PRIMARY KEY,
    name VARCHAR(100),
    password VARCHAR(100),
    address VARCHAR(255),
    phone_no INT,
    email VARCHAR(100) -- Added email attribute
);

CREATE TABLE Borrower (
    borrower_id INT PRIMARY KEY,
    FOREIGN KEY (borrower_id) REFERENCES Person(id)
);

CREATE TABLE Librarian (
    librarian_id INT PRIMARY KEY,
    salary DOUBLE,
    office_no INT,
    FOREIGN KEY (librarian_id) REFERENCES Person(id)
);

CREATE TABLE Book (
    book_id INT PRIMARY KEY,
    title VARCHAR(255),
    author VARCHAR(255),
    subtitle VARCHAR(255),
    is_issued BOOLEAN
);

CREATE TABLE Loan (
    loan_id INT PRIMARY KEY AUTO_INCREMENT,
    issued_date DATE,
    date_returned DATE,
    fine_paid BOOLEAN,
    borrower_id INT,
    book_id INT,
    FOREIGN KEY (borrower_id) REFERENCES Borrower(borrower_id),
    FOREIGN KEY (book_id) REFERENCES Book(book_id)
);

CREATE TABLE Hold_Request (
    hold_request_id INT PRIMARY KEY AUTO_INCREMENT,
    request_date DATE,
    borrower_id INT,
    book_id INT,
    FOREIGN KEY (borrower_id) REFERENCES Borrower(borrower_id),
    FOREIGN KEY (book_id) REFERENCES Book(book_id)
);
